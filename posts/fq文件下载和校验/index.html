<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fqæ–‡ä»¶ä¸‹è½½å’Œæ ¡éªŒ | æˆ‘çš„ç©ºé—´</title><meta name=keywords content="fastqä¸‹è½½"><meta name=description content='Asperaå®‰è£…
å¯ä»¥conda/mambaå®‰è£…
Linuxç³»ç»Ÿä¸Šå®‰è£…asperaå¹¶ç”¨å…¶æ‰¹é‡é«˜é€Ÿä¸‹è½½è½¬å½•ç»„æ•°æ® - çŸ¥ä¹ (zhihu.com)
æ‰‹åŠ¨å®‰è£…
wget https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/OSA/09cne/0/ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz
tar -zxvf ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz
## shæ–‡ä»¶ä¸Šä¸€æ­¥è§£å‹ç”Ÿæˆçš„
./ibm-aspera-connect-3.11.0.5-linux-g2.12-64.sh
# æŠŠUSERNAME æ¢æˆè‡ªå·±çš„linux è´¦æˆ·å
$ echo """export PATH=\"/home/xiaotiancai/.aspera/connect/bin:\$PATH\" """ >> ~/.bashrc
# æœ‰è¾“å‡ºå¸®åŠ©æ–‡æ¡£åˆ™å®‰è£…æˆåŠŸ
$ ascp -h
åŸºæœ¬è¯­æ³•
å€Ÿé‰´
Aspera ascp Usage (2.7) Documentation - All Aspera Server 2.7 Platforms (asperasoft.com)'><meta name=author content><link rel=canonical href=https://Tdxxxx-student.github.io/posts/fq%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%92%8C%E6%A0%A1%E9%AA%8C/><link crossorigin=anonymous href=/assets/css/stylesheet.98d36a2d3d7531c43f287130884c533d0910af42ad8e9f3c473913b3aea5ead7.css integrity="sha256-mNNqLT11McQ/KHEwiExTPQkQr0Ktjp88RzkTs66l6tc=" rel="preload stylesheet" as=style><link rel=icon href=https://Tdxxxx-student.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Tdxxxx-student.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Tdxxxx-student.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://Tdxxxx-student.github.io/apple-touch-icon.png><link rel=mask-icon href=https://Tdxxxx-student.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://Tdxxxx-student.github.io/posts/fq%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%92%8C%E6%A0%A1%E9%AA%8C/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=stylesheet href=https://Tdxxxx-student.github.io/css/custom.css><meta property="og:url" content="https://Tdxxxx-student.github.io/posts/fq%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%92%8C%E6%A0%A1%E9%AA%8C/"><meta property="og:site_name" content="æˆ‘çš„ç©ºé—´"><meta property="og:title" content="Fqæ–‡ä»¶ä¸‹è½½å’Œæ ¡éªŒ"><meta property="og:description" content='Asperaå®‰è£… å¯ä»¥conda/mambaå®‰è£… Linuxç³»ç»Ÿä¸Šå®‰è£…asperaå¹¶ç”¨å…¶æ‰¹é‡é«˜é€Ÿä¸‹è½½è½¬å½•ç»„æ•°æ® - çŸ¥ä¹ (zhihu.com) æ‰‹åŠ¨å®‰è£…
wget https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/OSA/09cne/0/ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz tar -zxvf ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz ## shæ–‡ä»¶ä¸Šä¸€æ­¥è§£å‹ç”Ÿæˆçš„ ./ibm-aspera-connect-3.11.0.5-linux-g2.12-64.sh # æŠŠUSERNAME æ¢æˆè‡ªå·±çš„linux è´¦æˆ·å $ echo """export PATH=\"/home/xiaotiancai/.aspera/connect/bin:\$PATH\" """ >> ~/.bashrc # æœ‰è¾“å‡ºå¸®åŠ©æ–‡æ¡£åˆ™å®‰è£…æˆåŠŸ $ ascp -h åŸºæœ¬è¯­æ³• å€Ÿé‰´ Aspera ascp Usage (2.7) Documentation - All Aspera Server 2.7 Platforms (asperasoft.com)'><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-03T22:20:24+08:00"><meta property="article:modified_time" content="2026-02-03T22:20:24+08:00"><meta property="article:tag" content="Fastqä¸‹è½½"><meta name=twitter:card content="summary"><meta name=twitter:title content="Fqæ–‡ä»¶ä¸‹è½½å’Œæ ¡éªŒ"><meta name=twitter:description content='Asperaå®‰è£…
å¯ä»¥conda/mambaå®‰è£…
Linuxç³»ç»Ÿä¸Šå®‰è£…asperaå¹¶ç”¨å…¶æ‰¹é‡é«˜é€Ÿä¸‹è½½è½¬å½•ç»„æ•°æ® - çŸ¥ä¹ (zhihu.com)
æ‰‹åŠ¨å®‰è£…
wget https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/OSA/09cne/0/ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz
tar -zxvf ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz
## shæ–‡ä»¶ä¸Šä¸€æ­¥è§£å‹ç”Ÿæˆçš„
./ibm-aspera-connect-3.11.0.5-linux-g2.12-64.sh
# æŠŠUSERNAME æ¢æˆè‡ªå·±çš„linux è´¦æˆ·å
$ echo """export PATH=\"/home/xiaotiancai/.aspera/connect/bin:\$PATH\" """ >> ~/.bashrc
# æœ‰è¾“å‡ºå¸®åŠ©æ–‡æ¡£åˆ™å®‰è£…æˆåŠŸ
$ ascp -h
åŸºæœ¬è¯­æ³•
å€Ÿé‰´
Aspera ascp Usage (2.7) Documentation - All Aspera Server 2.7 Platforms (asperasoft.com)'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://Tdxxxx-student.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Fqæ–‡ä»¶ä¸‹è½½å’Œæ ¡éªŒ","item":"https://Tdxxxx-student.github.io/posts/fq%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%92%8C%E6%A0%A1%E9%AA%8C/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fqæ–‡ä»¶ä¸‹è½½å’Œæ ¡éªŒ","name":"Fqæ–‡ä»¶ä¸‹è½½å’Œæ ¡éªŒ","description":"Asperaå®‰è£… å¯ä»¥conda/mambaå®‰è£… Linuxç³»ç»Ÿä¸Šå®‰è£…asperaå¹¶ç”¨å…¶æ‰¹é‡é«˜é€Ÿä¸‹è½½è½¬å½•ç»„æ•°æ® - çŸ¥ä¹ (zhihu.com) æ‰‹åŠ¨å®‰è£…\nwget https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/OSA/09cne/0/ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz tar -zxvf ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz ## shæ–‡ä»¶ä¸Šä¸€æ­¥è§£å‹ç”Ÿæˆçš„ ./ibm-aspera-connect-3.11.0.5-linux-g2.12-64.sh # æŠŠUSERNAME æ¢æˆè‡ªå·±çš„linux è´¦æˆ·å $ echo \u0026#34;\u0026#34;\u0026#34;export PATH=\\\u0026#34;/home/xiaotiancai/.aspera/connect/bin:\\$PATH\\\u0026#34; \u0026#34;\u0026#34;\u0026#34; \u0026gt;\u0026gt; ~/.bashrc # æœ‰è¾“å‡ºå¸®åŠ©æ–‡æ¡£åˆ™å®‰è£…æˆåŠŸ $ ascp -h åŸºæœ¬è¯­æ³• å€Ÿé‰´ Aspera ascp Usage (2.7) Documentation - All Aspera Server 2.7 Platforms (asperasoft.com)\n","keywords":["fastqä¸‹è½½"],"articleBody":"Asperaå®‰è£… å¯ä»¥conda/mambaå®‰è£… Linuxç³»ç»Ÿä¸Šå®‰è£…asperaå¹¶ç”¨å…¶æ‰¹é‡é«˜é€Ÿä¸‹è½½è½¬å½•ç»„æ•°æ® - çŸ¥ä¹ (zhihu.com) æ‰‹åŠ¨å®‰è£…\nwget https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/OSA/09cne/0/ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz tar -zxvf ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz ## shæ–‡ä»¶ä¸Šä¸€æ­¥è§£å‹ç”Ÿæˆçš„ ./ibm-aspera-connect-3.11.0.5-linux-g2.12-64.sh # æŠŠUSERNAME æ¢æˆè‡ªå·±çš„linux è´¦æˆ·å $ echo \"\"\"export PATH=\\\"/home/xiaotiancai/.aspera/connect/bin:\\$PATH\\\" \"\"\" \u003e\u003e ~/.bashrc # æœ‰è¾“å‡ºå¸®åŠ©æ–‡æ¡£åˆ™å®‰è£…æˆåŠŸ $ ascp -h åŸºæœ¬è¯­æ³• å€Ÿé‰´ Aspera ascp Usage (2.7) Documentation - All Aspera Server 2.7 Platforms (asperasoft.com)\nåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼Œ[OPTION] æ˜¯å‚æ•°è®¾ç½®ï¼ŒSRC æ˜¯è¿œç¨‹èµ„æºè·¯å¾„ï¼ŒDESTæ˜¯æ–‡ä»¶ä¿å­˜è·¯å¾„ã€‚è‹¥SRCä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œåˆ™ä¿å­˜åœ¨DESTç›®å½•ä¸‹ã€‚\nascp [OPTION] SRC... DEST å‚æ•° è¯´æ˜\n-l æœ€å¤§ä¼ è¾“é€Ÿç‡ ==-i å¯†é’¥åœ°å€ï¼Œè‡ªå·±å®‰è£…éƒ½æ˜¯ï¼š~/.aspera/connect/etc/asperaweb_id_dsa.openssh== ï¼Œcondaå®‰è£…å‚ç…§ä¸Šé¢å†…å®¹ -P -P33001ï¼Œåˆ†å¼€åˆèµ·ä½œç”¨éƒ½æ˜¯ä¸€æ ·ã€‚è®¾æˆå…¶ä»–å¯èƒ½ä¼šè¦è¾“å¯†ç ã€‚Set the TCP port used for fasp session initiation. (Default: 22) -Q Enable fair transfer policy -k -k2, åˆ†å¼€åˆèµ·ä½œç”¨éƒ½æ˜¯ä¸€æ ·,å¼‚å¸¸ä¸­æ–­å¯ä»¥é‡å¯ã€‚Enables fatal transfer restarts. -T ç¦æ­¢åŠ å¯†ã€‚Disable encryption for maximum throughput. SRC ä½ç½®å‚æ•°ï¼Œæºæ–‡ä»¶åœ°å€ï¼Œç±»ä¼¼[era-fasp@fasp.sra.ebi.ac.uk](https://links.jianshu.com/go?to=mailto%3Aera-fasp%40fasp.sra.ebi.ac.uk):/vol1/fastq/SRR576/004/SRR5760814/SRR5760814.fastq.gz DEST ./test.fq.gzï¼Œ ä¿å­˜åœ°å€ # ä»¥ä¸€ä¸ªä¾‹å­ä½œä¸ºè¯´æ˜ ascp -l 100M -P 33001 -QT -k 2 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR576/004/SRR5760814/SRR5760814.fastq.gz ./test.fq.gz ä¸‹è½½ $ ascp -l 100M -P 33001 -QT -k 2 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR576/002/SRR5760812/SRR5760812.fastq.gz ./test.fq.gz å¸ˆå§è§£è¯´\nWH: mamba activate ascp WH: which aspera WH: #å¯†é’¥åœ°å€ä¸€èˆ¬æ˜¯binæ¢æˆetcåè¾¹ åœ¨SRAå¯ä»¥ç›´æ¥è·å–æ ¼å¼\nxtc424å¯†é’¥ï¼š/pub/software/miniforge3/envs/ascp/etc/asperaweb_id_dsa.openssh ==nohupæŒ‚è½½åå°è¿è¡Œè„šæœ¬==\nnohub command \u0026 # æŒ‰ä»»æ„é”®å¦‚å›è½¦é”® # æ­£å¸¸é€€å‡ºï¼Œå¦åˆ™å¯èƒ½ä¼šå¤±è´¥ exit ENAè‡ªåŠ¨ä¸‹è½½æ ¡éªŒè„šæœ¬ ç›´æ¥åœ¨ ENA ä¸Šæ£€ç´¢æƒ³è¦ä¸‹è½½çš„æ•°æ® æœ‰ä¸¤ä¸ªä¿¡æ¯å¾ˆé‡è¦ï¼ŒMD5å€¼å’ŒAsperaé“¾æ¥ï¼Œç¬¬ä¸€åˆ—ä¸ºrun accessionã€‚ é€‰æ‹©TSVä¸‹è½½æ ¼å¼å°†ä¿¡æ¯ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åä½¿ç”¨Rè¿›è¡Œå¤„ç†ï¼Œè·å¾—æœ€ç»ˆè¦çš„æ•°æ®æ ¼å¼ã€‚Rä»£ç å¦‚ä¸‹ï¼š\nR å¤„ç†æˆæœ€åæƒ³è¦çš„æ ¼å¼ rm(list = ls()) setwd(\"tsvæ–‡ä»¶æ‰€åœ¨è·¯å¾„\") library(tidyverse) # è·å–å½“å‰ç›®å½•çš„æ–‡ä»¶åˆ—è¡¨ dir() %\u003e% as.data.frame() %\u003e% magrittr::set_names(\"file\") %\u003e% dplyr::filter(grepl(\"\\\\.tsv$|\\\\.txt$\", file)) -\u003e df.file # ç­›é€‰ç‰¹å®šåç¼€æ–‡ä»¶ all.ena \u003c- tibble() for (i in unique(df.file$file)) { readr::read_delim(i, show_col_types = FALSE) %\u003e% # ç›´æ¥ç”¨æ–‡ä»¶å magrittr::set_names(c(\"Run\", \"md5\", \"link\")) %\u003e% dplyr::mutate( md5 = stringr::str_split(md5, \";\"), link = stringr::str_split(link, \";\") ) %\u003e% tidyr::unnest(cols = c(md5, link)) %\u003e% # æŒ‡å®š cols å‚æ•° dplyr::mutate( file = stringr::str_split(link, \"/\") %\u003e% sapply(`[`, 7) ) %\u003e% dplyr::select(Run, file, md5, link) %\u003e% dplyr::bind_rows(all.ena) -\u003e all.ena } # è¾“å‡ºåˆ°å½“å‰ç›®å½• all.ena %\u003e% dplyr::select(file, md5, link) %\u003e% readr::write_delim(\"ena.info.txt\", delim = \"\\t\", col_names = FALSE) å¾—åˆ°çš„æ–‡ä»¶é•¿è¿™æ ·ï¼š ç¬¬ä¸€åˆ—æ˜¯ fq æ–‡ä»¶åï¼Œç¬¬äºŒåˆ—æ˜¯ MD 5 æ ¡éªŒç ï¼Œç¬¬ä¸‰åˆ—æ˜¯ aspera ä¸‹è½½åœ°å€ æŠŠè¿™ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå°±å¯ä»¥å¼€å§‹ä¸‹è½½äº†ã€‚æ‰¹é‡ä¸‹è½½ä»£ç è„šæœ¬\n#!/bin/bash # å®šä¹‰æ–‡ä»¶åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶è·¯å¾„ FILE_LIST=\"ena.info.txt\" # å®šä¹‰æœ€å¤§é‡è¯•æ¬¡æ•° MAX_RETRIES=10 # æ£€æŸ¥æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶æ˜¯å¦å­˜åœ¨ if [ ! -f \"$FILE_LIST\" ]; then echo \"æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶ $FILE_LIST ä¸å­˜åœ¨ã€‚\" exit 1 fi # è¯»å–æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶ while read -r filename md5sum download_url; do echo \"å¤„ç†æ–‡ä»¶: $filename\" # å®šä¹‰ä¸‹è½½çš„æ–‡ä»¶è·¯å¾„ download_path=\"$filename\" # åˆå§‹åŒ–é‡è¯•æ¬¡æ•° retries=0 # å¾ªç¯ç›´åˆ°æ–‡ä»¶æ ¡éªŒæˆåŠŸæˆ–è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•° while [ $retries -lt $MAX_RETRIES ]; do echo \"å°è¯•ä¸‹è½½æ–‡ä»¶ (å°è¯•æ¬¡æ•°: $((retries + 1)) / $MAX_RETRIES)...\" # ä½¿ç”¨curlä¸‹è½½æ–‡ä»¶ #curl -o \"$download_path\" -L \"$download_url\" # ä½¿ç”¨ ascp ä¸‹è½½æ–‡ä»¶ # æ¢æˆè‡ªå·±çš„asperaweb_id_dsa.opensshè·¯å¾„ ascp -QT -l 100m -P33001 -k 1 -i ~/mambaforge/envs/tools4bioinf/etc/asperaweb_id_dsa.openssh era-fasp@$download_url . # è®¡ç®—ä¸‹è½½æ–‡ä»¶çš„MD5æ ¡éªŒå’Œ actual_md5=$(md5sum \"$download_path\" | awk '{print $1}') # æ ¡éªŒæ–‡ä»¶ if [ \"$actual_md5\" = \"$md5sum\" ]; then echo \"æ–‡ä»¶ $filename ä¸‹è½½æˆåŠŸï¼Œå¹¶ä¸”MD5æ ¡éªŒå’Œæ­£ç¡®ã€‚\" break else echo \"æ–‡ä»¶æ ¡éªŒå¤±è´¥ï¼Œæ­£åœ¨é‡è¯•...\" rm \"$download_path\" retries=$((retries + 1)) fi done # æ£€æŸ¥æ˜¯å¦è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•° if [ $retries -eq $MAX_RETRIES ]; then echo \"æ–‡ä»¶ $filename ä¸‹è½½å’Œæ ¡éªŒå¤±è´¥ï¼Œå·²è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚\" # exit 1 fi done \u003c \"$FILE_LIST\" nohup bash aspera_1.sh \u003e dl.log 2\u003e\u00261 \u0026 echo $! \u003e dl.id # $! æ˜¯ä¸Šä¸€ä¸ªåå°è¿›ç¨‹çš„ID æ³¨æ„ ä¸Šé¢è„šæœ¬éœ€è¦è‡ªè¡Œä¿®æ”¹ä¸‹è½½é€Ÿåº¦å’Œå¯†é’¥ï¼\n# è¾“å‡ºæ—¥å¿— å¤„ç†æ–‡ä»¶: SRR12976775_1.fastq.gz å°è¯•ä¸‹è½½æ–‡ä»¶ (å°è¯•æ¬¡æ•°: 1 / 10)... SRR12976775_1.fastq.gz 100% 1420MB 10.7Mb/s 10:12 Completed: 1454518K bytes transferred in 612 seconds (19438K bits/sec), in 1 file. æ–‡ä»¶ SRR12976775_1.fastq.gz ä¸‹è½½æˆåŠŸï¼Œå¹¶ä¸”MD5æ ¡éªŒå’Œæ­£ç¡®ã€‚ ","wordCount":"1610","inLanguage":"en","datePublished":"2026-02-03T22:20:24+08:00","dateModified":"2026-02-03T22:20:24+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://Tdxxxx-student.github.io/posts/fq%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%92%8C%E6%A0%A1%E9%AA%8C/"},"publisher":{"@type":"Organization","name":"æˆ‘çš„ç©ºé—´","logo":{"@type":"ImageObject","url":"https://Tdxxxx-student.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://Tdxxxx-student.github.io/ accesskey=h title="æˆ‘çš„ç©ºé—´ (Alt + H)">æˆ‘çš„ç©ºé—´</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Tdxxxx-student.github.io/posts/ title=é¦–é¡µ><span>é¦–é¡µ</span></a></li><li><a href=https://Tdxxxx-student.github.io/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://Tdxxxx-student.github.io/categories/ title=åˆ†ç±»><span>åˆ†ç±»</span></a></li><li><a href=https://Tdxxxx-student.github.io/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://Tdxxxx-student.github.io/search/ title="ğŸ”  (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://Tdxxxx-student.github.io/>Home</a>&nbsp;Â»&nbsp;<a href=https://Tdxxxx-student.github.io/posts/>Posts</a></div><h1 class=post-title>Fqæ–‡ä»¶ä¸‹è½½å’Œæ ¡éªŒ</h1><div class=post-meta><span title='2026-02-03 22:20:24 +0800 +0800'>2026-02-03</span>&nbsp;Â·&nbsp;<span>4 min</span></div></header><div class=page-layout><div class=post-card><div class=post-content><h1 id=asperaå®‰è£…>Asperaå®‰è£…<a hidden class=anchor aria-hidden=true href=#asperaå®‰è£…>#</a></h1><p>å¯ä»¥conda/mambaå®‰è£…
<a href=https://zhuanlan.zhihu.com/p/640962215>Linuxç³»ç»Ÿä¸Šå®‰è£…asperaå¹¶ç”¨å…¶æ‰¹é‡é«˜é€Ÿä¸‹è½½è½¬å½•ç»„æ•°æ® - çŸ¥ä¹ (zhihu.com)</a>
æ‰‹åŠ¨å®‰è£…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/OSA/09cne/0/ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz
</span></span><span style=display:flex><span>tar -zxvf ibm-aspera-connect-3.11.0.5-linux-g2.12-64.tar.gz
</span></span><span style=display:flex><span><span style=color:#75715e>## shæ–‡ä»¶ä¸Šä¸€æ­¥è§£å‹ç”Ÿæˆçš„</span>
</span></span><span style=display:flex><span>./ibm-aspera-connect-3.11.0.5-linux-g2.12-64.sh
</span></span><span style=display:flex><span><span style=color:#75715e># æŠŠUSERNAME æ¢æˆè‡ªå·±çš„linux è´¦æˆ·å</span>
</span></span><span style=display:flex><span>$ echo <span style=color:#e6db74>&#34;&#34;&#34;export PATH=\&#34;/home/xiaotiancai/.aspera/connect/bin:\$PATH\&#34; &#34;&#34;&#34;</span> &gt;&gt; ~/.bashrc
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># æœ‰è¾“å‡ºå¸®åŠ©æ–‡æ¡£åˆ™å®‰è£…æˆåŠŸ</span>
</span></span><span style=display:flex><span>$ ascp -h
</span></span></code></pre></div><h2 id=åŸºæœ¬è¯­æ³•>åŸºæœ¬è¯­æ³•<a hidden class=anchor aria-hidden=true href=#åŸºæœ¬è¯­æ³•>#</a></h2><p>å€Ÿé‰´
<a href=https://download.asperasoft.com/download/docs/ascp/2.7/html/index.html>Aspera ascp Usage (2.7) Documentation - All Aspera Server 2.7 Platforms (asperasoft.com)</a></p><p>åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼Œ<code>[OPTION]</code> æ˜¯å‚æ•°è®¾ç½®ï¼Œ<code>SRC</code> æ˜¯è¿œç¨‹èµ„æºè·¯å¾„ï¼Œ<code>DEST</code>æ˜¯æ–‡ä»¶ä¿å­˜è·¯å¾„ã€‚è‹¥<code>SRC</code>ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œåˆ™ä¿å­˜åœ¨<code>DEST</code>ç›®å½•ä¸‹ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>ascp <span style=color:#f92672>[</span>OPTION<span style=color:#f92672>]</span> SRC... DEST
</span></span></code></pre></div><p>å‚æ•° è¯´æ˜</p><pre tabindex=0><code>-l æœ€å¤§ä¼ è¾“é€Ÿç‡  

 ==-i å¯†é’¥åœ°å€ï¼Œè‡ªå·±å®‰è£…éƒ½æ˜¯ï¼š~/.aspera/connect/etc/asperaweb_id_dsa.openssh== ï¼Œcondaå®‰è£…å‚ç…§ä¸Šé¢å†…å®¹   

-P -P33001ï¼Œåˆ†å¼€åˆèµ·ä½œç”¨éƒ½æ˜¯ä¸€æ ·ã€‚è®¾æˆå…¶ä»–å¯èƒ½ä¼šè¦è¾“å¯†ç ã€‚Set the TCP port used for fasp session initiation. (Default: 22)   

-Q Enable fair transfer policy  

-k -k2, åˆ†å¼€åˆèµ·ä½œç”¨éƒ½æ˜¯ä¸€æ ·,å¼‚å¸¸ä¸­æ–­å¯ä»¥é‡å¯ã€‚Enables fatal transfer restarts.  

-T ç¦æ­¢åŠ å¯†ã€‚Disable encryption for maximum throughput.   

SRC ä½ç½®å‚æ•°ï¼Œæºæ–‡ä»¶åœ°å€ï¼Œç±»ä¼¼[era-fasp@fasp.sra.ebi.ac.uk](https://links.jianshu.com/go?to=mailto%3Aera-fasp%40fasp.sra.ebi.ac.uk):/vol1/fastq/SRR576/004/SRR5760814/SRR5760814.fastq.gz  

DEST ./test.fq.gzï¼Œ ä¿å­˜åœ°å€
</code></pre><pre tabindex=0><code># ä»¥ä¸€ä¸ªä¾‹å­ä½œä¸ºè¯´æ˜
ascp  -l 100M -P 33001 -QT -k 2 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR576/004/SRR5760814/SRR5760814.fastq.gz ./test.fq.gz
</code></pre><h2 id=ä¸‹è½½>ä¸‹è½½<a hidden class=anchor aria-hidden=true href=#ä¸‹è½½>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>$ ascp -l 100M -P <span style=color:#ae81ff>33001</span> -QT -k <span style=color:#ae81ff>2</span> -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR576/002/SRR5760812/SRR5760812.fastq.gz ./test.fq.gz
</span></span></code></pre></div><p>å¸ˆå§è§£è¯´</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>WH:
</span></span><span style=display:flex><span> mamba activate ascp
</span></span><span style=display:flex><span>WH:
</span></span><span style=display:flex><span>which aspera
</span></span><span style=display:flex><span>WH:
</span></span><span style=display:flex><span><span style=color:#75715e>#å¯†é’¥åœ°å€ä¸€èˆ¬æ˜¯binæ¢æˆetcåè¾¹</span>
</span></span></code></pre></div><p>åœ¨SRAå¯ä»¥ç›´æ¥è·å–æ ¼å¼</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>xtc424å¯†é’¥ï¼š/pub/software/miniforge3/envs/ascp/etc/asperaweb_id_dsa.openssh
</span></span></code></pre></div><p>==nohupæŒ‚è½½åå°è¿è¡Œè„šæœ¬==</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>nohub command &amp;
</span></span><span style=display:flex><span><span style=color:#75715e># æŒ‰ä»»æ„é”®å¦‚å›è½¦é”®</span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ­£å¸¸é€€å‡ºï¼Œå¦åˆ™å¯èƒ½ä¼šå¤±è´¥</span>
</span></span><span style=display:flex><span>exit
</span></span></code></pre></div><h1 id=enaè‡ªåŠ¨ä¸‹è½½æ ¡éªŒè„šæœ¬>ENAè‡ªåŠ¨ä¸‹è½½æ ¡éªŒè„šæœ¬<a hidden class=anchor aria-hidden=true href=#enaè‡ªåŠ¨ä¸‹è½½æ ¡éªŒè„šæœ¬>#</a></h1><p>ç›´æ¥åœ¨ <a href=https://www.ebi.ac.uk/ena/browser/view/>ENA</a> ä¸Šæ£€ç´¢æƒ³è¦ä¸‹è½½çš„æ•°æ®
æœ‰ä¸¤ä¸ªä¿¡æ¯å¾ˆé‡è¦ï¼ŒMD5å€¼å’ŒAsperaé“¾æ¥ï¼Œç¬¬ä¸€åˆ—ä¸ºrun accessionã€‚
é€‰æ‹©TSVä¸‹è½½æ ¼å¼å°†ä¿¡æ¯ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åä½¿ç”¨Rè¿›è¡Œå¤„ç†ï¼Œè·å¾—æœ€ç»ˆè¦çš„æ•°æ®æ ¼å¼ã€‚Rä»£ç å¦‚ä¸‹ï¼š</p><h2 id=r-å¤„ç†æˆæœ€åæƒ³è¦çš„æ ¼å¼>R å¤„ç†æˆæœ€åæƒ³è¦çš„æ ¼å¼<a hidden class=anchor aria-hidden=true href=#r-å¤„ç†æˆæœ€åæƒ³è¦çš„æ ¼å¼>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#a6e22e>rm</span>(list <span style=color:#f92672>=</span> <span style=color:#a6e22e>ls</span>())
</span></span><span style=display:flex><span><span style=color:#a6e22e>setwd</span>(<span style=color:#e6db74>&#34;tsvæ–‡ä»¶æ‰€åœ¨è·¯å¾„&#34;</span>)  
</span></span><span style=display:flex><span><span style=color:#a6e22e>library</span>(tidyverse)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è·å–å½“å‰ç›®å½•çš„æ–‡ä»¶åˆ—è¡¨</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dir</span>() <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>as.data.frame</span>() <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>  magrittr<span style=color:#f92672>::</span><span style=color:#a6e22e>set_names</span>(<span style=color:#e6db74>&#34;file&#34;</span>) <span style=color:#f92672>%&gt;%</span>
</span></span><span style=display:flex><span>  dplyr<span style=color:#f92672>::</span><span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>grepl</span>(<span style=color:#e6db74>&#34;\\.tsv$|\\.txt$&#34;</span>, file)) <span style=color:#f92672>-&gt;</span> df.file  <span style=color:#75715e># ç­›é€‰ç‰¹å®šåç¼€æ–‡ä»¶</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>all.ena <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>tibble</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (i <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>unique</span>(df.file<span style=color:#f92672>$</span>file)) {
</span></span><span style=display:flex><span>  readr<span style=color:#f92672>::</span><span style=color:#a6e22e>read_delim</span>(i, show_col_types <span style=color:#f92672>=</span> <span style=color:#66d9ef>FALSE</span>) <span style=color:#f92672>%&gt;%</span>   <span style=color:#75715e># ç›´æ¥ç”¨æ–‡ä»¶å</span>
</span></span><span style=display:flex><span>    magrittr<span style=color:#f92672>::</span><span style=color:#a6e22e>set_names</span>(<span style=color:#a6e22e>c</span>(<span style=color:#e6db74>&#34;Run&#34;</span>, <span style=color:#e6db74>&#34;md5&#34;</span>, <span style=color:#e6db74>&#34;link&#34;</span>)) <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>    dplyr<span style=color:#f92672>::</span><span style=color:#a6e22e>mutate</span>(
</span></span><span style=display:flex><span>      md5 <span style=color:#f92672>=</span> stringr<span style=color:#f92672>::</span><span style=color:#a6e22e>str_split</span>(md5, <span style=color:#e6db74>&#34;;&#34;</span>),
</span></span><span style=display:flex><span>      link <span style=color:#f92672>=</span> stringr<span style=color:#f92672>::</span><span style=color:#a6e22e>str_split</span>(link, <span style=color:#e6db74>&#34;;&#34;</span>)
</span></span><span style=display:flex><span>    ) <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>    tidyr<span style=color:#f92672>::</span><span style=color:#a6e22e>unnest</span>(cols <span style=color:#f92672>=</span> <span style=color:#a6e22e>c</span>(md5, link)) <span style=color:#f92672>%&gt;%</span>   <span style=color:#75715e># æŒ‡å®š cols å‚æ•°</span>
</span></span><span style=display:flex><span>    dplyr<span style=color:#f92672>::</span><span style=color:#a6e22e>mutate</span>(
</span></span><span style=display:flex><span>      file <span style=color:#f92672>=</span> stringr<span style=color:#f92672>::</span><span style=color:#a6e22e>str_split</span>(link, <span style=color:#e6db74>&#34;/&#34;</span>) <span style=color:#f92672>%&gt;%</span> <span style=color:#a6e22e>sapply</span>(`[`, <span style=color:#ae81ff>7</span>)
</span></span><span style=display:flex><span>    ) <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>    dplyr<span style=color:#f92672>::</span><span style=color:#a6e22e>select</span>(Run, file, md5, link) <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>    dplyr<span style=color:#f92672>::</span><span style=color:#a6e22e>bind_rows</span>(all.ena) <span style=color:#f92672>-&gt;</span> all.ena 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¾“å‡ºåˆ°å½“å‰ç›®å½•</span>
</span></span><span style=display:flex><span>all.ena <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>  dplyr<span style=color:#f92672>::</span><span style=color:#a6e22e>select</span>(file, md5, link) <span style=color:#f92672>%&gt;%</span> 
</span></span><span style=display:flex><span>  readr<span style=color:#f92672>::</span><span style=color:#a6e22e>write_delim</span>(<span style=color:#e6db74>&#34;ena.info.txt&#34;</span>, delim <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;\t&#34;</span>, col_names <span style=color:#f92672>=</span> <span style=color:#66d9ef>FALSE</span>)
</span></span></code></pre></div><p>å¾—åˆ°çš„æ–‡ä»¶é•¿è¿™æ ·ï¼š
ç¬¬ä¸€åˆ—æ˜¯ fq æ–‡ä»¶åï¼Œç¬¬äºŒåˆ—æ˜¯ MD 5 æ ¡éªŒç ï¼Œç¬¬ä¸‰åˆ—æ˜¯ aspera ä¸‹è½½åœ°å€
æŠŠè¿™ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå°±å¯ä»¥å¼€å§‹ä¸‹è½½äº†ã€‚æ‰¹é‡ä¸‹è½½ä»£ç è„šæœ¬</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#!/bin/bash  
</span></span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># å®šä¹‰æ–‡ä»¶åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶è·¯å¾„  </span>
</span></span><span style=display:flex><span>FILE_LIST<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ena.info.txt&#34;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># å®šä¹‰æœ€å¤§é‡è¯•æ¬¡æ•°  </span>
</span></span><span style=display:flex><span>MAX_RETRIES<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># æ£€æŸ¥æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶æ˜¯å¦å­˜åœ¨  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> ! -f <span style=color:#e6db74>&#34;</span>$FILE_LIST<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶ </span>$FILE_LIST<span style=color:#e6db74> ä¸å­˜åœ¨ã€‚&#34;</span>  
</span></span><span style=display:flex><span>exit <span style=color:#ae81ff>1</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># è¯»å–æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> read -r filename md5sum download_url; <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;å¤„ç†æ–‡ä»¶: </span>$filename<span style=color:#e6db74>&#34;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># å®šä¹‰ä¸‹è½½çš„æ–‡ä»¶è·¯å¾„  </span>
</span></span><span style=display:flex><span>download_path<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$filename<span style=color:#e6db74>&#34;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># åˆå§‹åŒ–é‡è¯•æ¬¡æ•°  </span>
</span></span><span style=display:flex><span>retries<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># å¾ªç¯ç›´åˆ°æ–‡ä»¶æ ¡éªŒæˆåŠŸæˆ–è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> <span style=color:#f92672>[</span> $retries -lt $MAX_RETRIES <span style=color:#f92672>]</span>; <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;å°è¯•ä¸‹è½½æ–‡ä»¶ (å°è¯•æ¬¡æ•°: </span><span style=color:#66d9ef>$((</span>retries <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#66d9ef>))</span><span style=color:#e6db74> / </span>$MAX_RETRIES<span style=color:#e6db74>)...&#34;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># ä½¿ç”¨curlä¸‹è½½æ–‡ä»¶  </span>
</span></span><span style=display:flex><span><span style=color:#75715e>#curl -o &#34;$download_path&#34; -L &#34;$download_url&#34;  </span>
</span></span><span style=display:flex><span><span style=color:#75715e># ä½¿ç”¨ ascp ä¸‹è½½æ–‡ä»¶  </span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ¢æˆè‡ªå·±çš„asperaweb_id_dsa.opensshè·¯å¾„  </span>
</span></span><span style=display:flex><span>ascp -QT -l 100m -P33001 -k <span style=color:#ae81ff>1</span> -i ~/mambaforge/envs/tools4bioinf/etc/asperaweb_id_dsa.openssh era-fasp@$download_url .  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># è®¡ç®—ä¸‹è½½æ–‡ä»¶çš„MD5æ ¡éªŒå’Œ  </span>
</span></span><span style=display:flex><span>actual_md5<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>md5sum <span style=color:#e6db74>&#34;</span>$download_path<span style=color:#e6db74>&#34;</span> | awk <span style=color:#e6db74>&#39;{print $1}&#39;</span><span style=color:#66d9ef>)</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># æ ¡éªŒæ–‡ä»¶  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$actual_md5<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span>$md5sum<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;æ–‡ä»¶ </span>$filename<span style=color:#e6db74> ä¸‹è½½æˆåŠŸï¼Œå¹¶ä¸”MD5æ ¡éªŒå’Œæ­£ç¡®ã€‚&#34;</span>  
</span></span><span style=display:flex><span>break  
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>  
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;æ–‡ä»¶æ ¡éªŒå¤±è´¥ï¼Œæ­£åœ¨é‡è¯•...&#34;</span>  
</span></span><span style=display:flex><span>rm <span style=color:#e6db74>&#34;</span>$download_path<span style=color:#e6db74>&#34;</span>  
</span></span><span style=display:flex><span>retries<span style=color:#f92672>=</span><span style=color:#66d9ef>$((</span>retries <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#66d9ef>))</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e># æ£€æŸ¥æ˜¯å¦è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $retries -eq $MAX_RETRIES <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;æ–‡ä»¶ </span>$filename<span style=color:#e6db74> ä¸‹è½½å’Œæ ¡éªŒå¤±è´¥ï¼Œå·²è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚&#34;</span>  
</span></span><span style=display:flex><span><span style=color:#75715e># exit 1  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> &lt; <span style=color:#e6db74>&#34;</span>$FILE_LIST<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>nohup bash aspera_1.sh &gt; dl.log 2&gt;&amp;<span style=color:#ae81ff>1</span> &amp; 
</span></span><span style=display:flex><span>echo $! &gt; dl.id    <span style=color:#75715e># $! æ˜¯ä¸Šä¸€ä¸ªåå°è¿›ç¨‹çš„ID</span>
</span></span></code></pre></div><h2 id=æ³¨æ„>æ³¨æ„<a hidden class=anchor aria-hidden=true href=#æ³¨æ„>#</a></h2><p>ä¸Šé¢è„šæœ¬éœ€è¦è‡ªè¡Œä¿®æ”¹ä¸‹è½½é€Ÿåº¦å’Œå¯†é’¥ï¼</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># è¾“å‡ºæ—¥å¿—</span>
</span></span><span style=display:flex><span>å¤„ç†æ–‡ä»¶: SRR12976775_1.fastq.gz  
</span></span><span style=display:flex><span>å°è¯•ä¸‹è½½æ–‡ä»¶ <span style=color:#f92672>(</span>å°è¯•æ¬¡æ•°: <span style=color:#ae81ff>1</span> / 10<span style=color:#f92672>)</span>...  
</span></span><span style=display:flex><span>SRR12976775_1.fastq.gz 100% 1420MB 10.7Mb/s 10:12  
</span></span><span style=display:flex><span>Completed: 1454518K bytes transferred in <span style=color:#ae81ff>612</span> seconds  
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>19438K bits/sec<span style=color:#f92672>)</span>, in <span style=color:#ae81ff>1</span> file.  
</span></span><span style=display:flex><span>æ–‡ä»¶ SRR12976775_1.fastq.gz ä¸‹è½½æˆåŠŸï¼Œå¹¶ä¸”MD5æ ¡éªŒå’Œæ­£ç¡®ã€‚
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://Tdxxxx-student.github.io/tags/fastq%E4%B8%8B%E8%BD%BD>fastqä¸‹è½½</a></li></ul></footer></div><aside class=sidebar-right><div class=toc-card><div class=toc-title><span class=toc-icon>ğŸ“–</span> ç›®å½•</div><nav id=TableOfContents><nav id=TableOfContents><ul><li><a href=#åŸºæœ¬è¯­æ³•>åŸºæœ¬è¯­æ³•</a></li><li><a href=#ä¸‹è½½>ä¸‹è½½</a></li></ul><ul><li><a href=#r-å¤„ç†æˆæœ€åæƒ³è¦çš„æ ¼å¼>R å¤„ç†æˆæœ€åæƒ³è¦çš„æ ¼å¼</a></li><li><a href=#æ³¨æ„>æ³¨æ„</a></li></ul></nav></nav></div></aside></div></article><script>document.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target.getAttribute("id");if(e.intersectionRatio>0){document.querySelectorAll(".toc-card li a").forEach(e=>{e.classList.remove("active")});const e=document.querySelector(`.toc-card li a[href="#${t}"]`);e&&e.classList.add("active")}})});document.querySelectorAll("h1[id], h2[id], h3[id], h4[id]").forEach(t=>{e.observe(t)})})</script></main><footer class=footer><span>tdx0307</span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><a href=/search/ class=search-fab title="æœç´¢ (Ctrl+F)">ğŸ”</a><style>.search-fab{position:fixed;bottom:2rem;right:2rem;width:50px;height:50px;background:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.3rem;text-decoration:none;box-shadow:0 4px 15px rgba(0,0,0,.2);transition:all .3s ease;z-index:100}.search-fab:hover{transform:scale(1.1);box-shadow:0 6px 20px rgba(0,0,0,.3)}@media(max-width:768px){.search-fab{bottom:1rem;right:1rem;width:45px;height:45px}}</style><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>